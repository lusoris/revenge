# Template Variables Configuration
# All variables used in DESIGN_TEMPLATE.md.jinja2
#
# IMPORTANT: Many values should be sourced from SOURCE_OF_TRUTH.md
# See: ../../00_SOURCE_OF_TRUTH.md

# =============================================================================
# METADATA
# =============================================================================

feature_name: "Feature Name"
  # Example: "Music Module", "TMDB Integration", "Auth Service"

category: "Category Name"
  # Example: "features/music", "integrations/metadata/video", "services"

category_path: "relative/path/to/category"
  # Example: "features/music", "integrations/metadata/video"

# =============================================================================
# SOURCE REFERENCES (from docs/dev/sources/)
# =============================================================================

sources_list: "source1, source2, source3"
  # Example: "fx, pgx, sqlc, river, ogen"
  # Source: docs/dev/sources/SOURCES.yaml

design_references: "design1, design2"
  # Example: "01_ARCHITECTURE, 02_DESIGN_PRINCIPLES, 03_METADATA_SYSTEM"

# =============================================================================
# STATUS (7 dimensions)
# =============================================================================

status_design: "ðŸ”´ | ðŸŸ¡ | âœ…"
status_design_notes: "Notes about design completion"

status_sources: "ðŸ”´ | ðŸŸ¡ | âœ…"
status_sources_notes: "Notes about source documentation"

status_instructions: "ðŸ”´ | ðŸŸ¡ | âœ…"
status_instructions_notes: "Notes about implementation instructions"

status_code: "ðŸ”´ | ðŸŸ¡ | âœ…"
status_code_notes: "Notes about code implementation"

status_linting: "ðŸ”´ | ðŸŸ¡ | âœ…"
status_linting_notes: "Notes about linting status"

status_unit_testing: "ðŸ”´ | ðŸŸ¡ | âœ…"
status_unit_testing_notes: "Notes about unit test coverage"

status_integration_testing: "ðŸ”´ | ðŸŸ¡ | âœ…"
status_integration_testing_notes: "Notes about integration tests"

# =============================================================================
# CLAUDE-SPECIFIC (implementation details)
# =============================================================================

code_location: "internal/path/to/code"
  # Example: "internal/content/movie/", "internal/service/auth/"

last_updated: "YYYY-MM-DD"

claude_overview: "Technical overview for developers"
  # Focuses on architecture, patterns, implementation details

technical_purpose: "One-sentence technical description"

architecture_pattern: "Pattern name"
  # Example: "Repository pattern with service layer", "Event-driven", "CQRS"

# Architecture
architecture_diagram: "ASCII or Mermaid diagram"

components:
  - name: "Component Name"
    description: "Component description"
    file_path: "internal/path/to/component.go"
    dependencies: ["dep1", "dep2"]

design_patterns:
  - name: "Pattern Name"
    description: "Why this pattern is used"

data_flow_diagram: "Data flow ASCII/Mermaid diagram"

# Database (from SOURCE_OF_TRUTH.md)
database_tables:
  - name: "table_name"
    description: "Table purpose"
    schema: |
      CREATE TABLE table_name (
        id UUID PRIMARY KEY,
        ...
      );
    indexes:
      - "idx_table_field"
    relationships:
      - "FOREIGN KEY to other_table"

migrations:
  - file: "YYYYMMDDHHMMSS_description.sql"
    description: "What this migration does"

# API (defined in OpenAPI specs, reference API.md)
api_namespace: "/api/v1/namespace"
  # Example: "/api/v1/movies", "/api/v1/auth"

api_endpoints:
  - method: "GET | POST | PUT | DELETE"
    path: "/api/v1/resource/{id}"
    description: "Endpoint description"
    request_example: |
      {
        "field": "value"
      }
    response_example: |
      {
        "field": "value"
      }
    auth_required: "Bearer token | None"
    rbac_scope: "scope:action"
      # Example: "movie:read", "admin:write"
    rate_limit: "100 req/min"

# External Integrations
external_integrations:
  - name: "Integration Name"
    purpose: "Why we integrate"
    design_doc: "INTEGRATION.md"
    design_doc_path: "../../integrations/path/INTEGRATION.md"
    integration_points:
      - "Integration point 1"
    sync_strategy: "Real-time | Periodic | On-demand"
    error_handling: "Retry logic, fallbacks"
    rate_limiting: "Rate limit strategy"

# Business Logic
business_rules:
  - "Business rule 1"

validations:
  - field: "field_name"
    rule: "Validation rule"

state_diagram: "State transition diagram"

# Caching (otter + rueidis from SOURCE_OF_TRUTH)
l1_cache_strategy: "What to cache in L1 (otter)"
l1_cache_ttl: "5m | 1h | 24h"

l2_cache_strategy: "What to cache in L2 (rueidis/Dragonfly)"
l2_cache_ttl: "1h | 24h | 7d"

cache_invalidations:
  - "When to invalidate cache"

# Testing (80%+ coverage per SOURCE_OF_TRUTH)
unit_test_location: "internal/path/to/code_test.go"

unit_tests:
  - "Test case description"

mocks:
  - "What to mock and why"

integration_test_location: "internal/path/to/integration_test.go"

integration_test_scenarios:
  - "Integration scenario description"

test_dependencies:
  - "testcontainers/postgres"
  - "testcontainers/dragonfly"

e2e_tests: true | false

e2e_test_scenarios:
  - "E2E scenario description"

# Security
auth_requirements: "Authentication requirements"
authz_requirements: "Authorization requirements"

rbac_scopes:
  - name: "scope:action"
    description: "What this scope allows"

sensitive_data:
  - field: "field_name"
    handling: "How sensitive data is handled"

input_validations:
  - "Input validation rule"

security_practices:
  - "Security best practice"

# Performance
expected_load: "Expected traffic/load"

query_optimizations:
  - "Query optimization technique"

monitoring_metrics:
  - name: "metric_name"
    description: "What this metric tracks"

bottlenecks:
  - description: "Potential bottleneck"
    mitigation: "How to mitigate"

# Implementation Phases
phase1_tasks:
  - "Phase 1 task"

phase2_tasks:
  - "Phase 2 task"

phase3_tasks:
  - "Phase 3 task"

# Go Packages (versions from SOURCE_OF_TRUTH.md)
go_packages:
  - import_path: "github.com/org/package"
    purpose: "What this package does"
    version: "v1.2.3"
      # IMPORTANT: Version MUST match SOURCE_OF_TRUTH.md

# Dependencies
depends_on:
  - name: "Dependency Name"
    path: "relative/path/to/doc.md"
    reason: "Why this is a dependency"

blocks:
  - name: "Feature Name"
    path: "relative/path/to/doc.md"
    reason: "Why this blocks that feature"

related_docs:
  - name: "Related Doc"
    path: "relative/path/to/doc.md"

# Source Documentation
source_docs:
  - name: "Source Name"
    path: "../../sources/category/source.md"
    description: "What this source documents"

# Cross-References
design_crossrefs:
  - name: "Design Doc"
    path: "relative/path/to/doc.md"

external_sources:
  - name: "External Source"
    url: "https://example.com"

# Implementation Notes
implementation_notes:
  - title: "Note Title"
    content: "Note content"

# Open Questions
open_questions:
  - "Open question 1"

# Final Status
final_status: "ðŸ”´ SCAFFOLD | ðŸŸ¡ PARTIAL | âœ… COMPLETE"
next_step: "What to do next"

# =============================================================================
# WIKI-SPECIFIC (user-facing documentation)
# =============================================================================

wiki_tagline: "User-friendly one-liner"
  # Example: "Organize and stream your music collection"

wiki_overview: "User-friendly overview"
  # Focuses on what users can do, not technical details

key_features:
  - "Feature 1 (user benefit)"

use_cases:
  - "Use case description"

wiki_getting_started: "Step-by-step getting started guide"

prerequisites:
  - "Prerequisite 1"

installation_steps: |
  # Installation commands
  step 1
  step 2

wiki_configuration_guide: "Configuration guide for users"

usage_examples:
  - title: "Example Title"
    description: "What this example shows"
    code: |
      example code

screenshots:
  - title: "Screenshot Title"
    alt: "Alt text"
    url: "path/to/screenshot.png"
    description: "What this screenshot shows"

common_issues:
  - problem: "Problem description"
    symptoms: "What users see"
    solution: "How to fix"

github_issues_url: "https://github.com/org/repo/issues"
github_discussions_url: "https://github.com/org/repo/discussions"
wiki_url: "https://github.com/org/repo/wiki"

# =============================================================================
# TEMPLATE GENERATION METADATA
# =============================================================================

generated_for: "claude | wiki"
  # Which version to generate

generation_date: "YYYY-MM-DD HH:MM:SS"

template_version: "1.0.0"

sot_ref_checked: true | false
  # Whether SOURCE_OF_TRUTH references were validated
