openapi: 3.1.0
info:
  title: Revenge API
  description: |
    Revenge Media Server API

    ## Authentication

    Most endpoints require authentication via Bearer token. Obtain a token
    through the login endpoint.

    ```
    Authorization: Bearer <token>
    ```
  version: 1.0.0
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: /api/v1
    description: API v1

tags:
  - name: System
    description: Server information and health checks
  - name: Authentication
    description: Login, logout, and session management
  - name: Users
    description: User management (admin)
  - name: Libraries
    description: Library management
  - name: Movies
    description: Movie browsing, metadata, and user interactions
  - name: Collections
    description: Movie collections (franchises)
  - name: Studios
    description: Production studios
  - name: Adult
    description: Adult content (scenes, movies, performers, studios, tags)
  - name: AdultMetadata
    description: Adult metadata sources (StashDB, ThePornDB)
  - name: AdultIntegrations
    description: Adult integrations (Stash)
  - name: AdultRequests
    description: Adult request system

paths:
  # System endpoints
  /system/info:
    get:
      operationId: getServerInfo
      x-ogen-operation-group: System
      summary: Get server information
      tags: [System]
      responses:
        "200":
          description: Server information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerInfo"

  /system/health:
    get:
      operationId: getHealth
      x-ogen-operation-group: System
      summary: Health check with component status
      tags: [System]
      responses:
        "200":
          description: Health status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HealthStatus"

  /system/health/live:
    get:
      operationId: getLiveness
      x-ogen-operation-group: System
      summary: Liveness probe
      tags: [System]
      responses:
        "200":
          description: Server is alive

  /system/health/ready:
    get:
      operationId: getReadiness
      x-ogen-operation-group: System
      summary: Readiness probe
      tags: [System]
      responses:
        "200":
          description: Server is ready
        "503":
          description: Server is not ready

  # Auth endpoints
  /auth/login:
    post:
      operationId: login
      x-ogen-operation-group: Auth
      summary: Authenticate user
      tags: [Authentication]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginRequest"
      responses:
        "200":
          description: Login successful
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginResponse"
        "401":
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Account disabled
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /auth/logout:
    post:
      operationId: logout
      x-ogen-operation-group: Auth
      summary: Logout current session
      tags: [Authentication]
      security:
        - bearerAuth: []
      responses:
        "204":
          description: Logout successful
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /auth/register:
    post:
      operationId: register
      x-ogen-operation-group: Auth
      summary: Register new user
      tags: [Authentication]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterRequest"
      responses:
        "201":
          description: Registration successful
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationError"
        "409":
          description: User already exists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /auth/me:
    get:
      operationId: getCurrentUser
      x-ogen-operation-group: Auth
      summary: Get current user info
      tags: [Authentication]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Current user info
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CurrentUser"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /auth/password:
    put:
      operationId: changePassword
      x-ogen-operation-group: Auth
      summary: Change password
      tags: [Authentication]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChangePasswordRequest"
      responses:
        "204":
          description: Password changed
        "401":
          description: Invalid current password
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /auth/sessions:
    get:
      operationId: listSessions
      x-ogen-operation-group: Auth
      summary: List current user's sessions
      tags: [Authentication]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: List of sessions
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Session"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /auth/sessions/{sessionId}:
    delete:
      operationId: revokeSession
      x-ogen-operation-group: Auth
      summary: Revoke a specific session
      tags: [Authentication]
      security:
        - bearerAuth: []
      parameters:
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Session revoked
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # User endpoints
  /users:
    get:
      operationId: listUsers
      x-ogen-operation-group: Users
      summary: List all users (admin only)
      tags: [Users]
      security:
        - bearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: List of users
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createUser
      x-ogen-operation-group: Users
      summary: Create a new user (admin only)
      tags: [Users]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserCreate"
      responses:
        "201":
          description: User created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationError"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "409":
          description: User already exists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /users/{userId}:
    get:
      operationId: getUser
      x-ogen-operation-group: Users
      summary: Get user by ID
      tags: [Users]
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: User details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    patch:
      operationId: updateUser
      x-ogen-operation-group: Users
      summary: Update user
      tags: [Users]
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserUpdate"
      responses:
        "200":
          description: User updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationError"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteUser
      x-ogen-operation-group: Users
      summary: Delete user (admin only)
      tags: [Users]
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: User deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # Library endpoints
  /libraries:
    get:
      operationId: listLibraries
      x-ogen-operation-group: Libraries
      summary: List libraries accessible to current user
      tags: [Libraries]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: List of libraries
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Library"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createLibrary
      x-ogen-operation-group: Libraries
      summary: Create a new library (admin only)
      tags: [Libraries]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LibraryCreate"
      responses:
        "201":
          description: Library created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Library"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationError"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /libraries/{libraryId}:
    get:
      operationId: getLibrary
      x-ogen-operation-group: Libraries
      summary: Get library by ID
      tags: [Libraries]
      security:
        - bearerAuth: []
      parameters:
        - name: libraryId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Library details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Library"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: No access to library
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Library not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    patch:
      operationId: updateLibrary
      x-ogen-operation-group: Libraries
      summary: Update library
      tags: [Libraries]
      security:
        - bearerAuth: []
      parameters:
        - name: libraryId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LibraryUpdate"
      responses:
        "200":
          description: Library updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Library"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationError"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Library not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteLibrary
      x-ogen-operation-group: Libraries
      summary: Delete library (admin only)
      tags: [Libraries]
      security:
        - bearerAuth: []
      parameters:
        - name: libraryId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Library deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Library not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /libraries/{libraryId}/scan:
    post:
      operationId: scanLibrary
      x-ogen-operation-group: Libraries
      summary: Trigger library scan
      tags: [Libraries]
      security:
        - bearerAuth: []
      parameters:
        - name: libraryId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ScanRequest"
      responses:
        "202":
          description: Scan started
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ScanResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Library not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # Movie endpoints
  /movies:
    get:
      operationId: listMovies
      x-ogen-operation-group: Movies
      summary: List movies
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: libraryId
          in: query
          schema:
            type: string
            format: uuid
        - name: query
          in: query
          schema:
            type: string
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [title, date_added, release_date, rating]
            default: title
        - name: sortOrder
          in: query
          schema:
            type: string
            enum: [asc, desc]
            default: asc
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: List of movies
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MovieListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/recent:
    get:
      operationId: listRecentMovies
      x-ogen-operation-group: Movies
      summary: List recently added movies
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 50
            default: 20
      responses:
        "200":
          description: Recently added movies
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Movie"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/continue:
    get:
      operationId: listContinueWatching
      x-ogen-operation-group: Movies
      summary: List movies to continue watching
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 20
            default: 10
      responses:
        "200":
          description: Movies to continue
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MovieWithProgress"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/{movieId}:
    get:
      operationId: getMovie
      x-ogen-operation-group: Movies
      summary: Get movie by ID
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Movie details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MovieFull"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    patch:
      operationId: updateMovie
      x-ogen-operation-group: Movies
      summary: Update movie metadata
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MovieUpdate"
      responses:
        "200":
          description: Movie updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Movie"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteMovie
      x-ogen-operation-group: Movies
      summary: Delete movie
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Movie deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/{movieId}/refresh:
    post:
      operationId: refreshMovieMetadata
      x-ogen-operation-group: Movies
      summary: Refresh movie metadata
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "202":
          description: Refresh queued
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JobResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/{movieId}/favorite:
    put:
      operationId: addMovieToFavorites
      x-ogen-operation-group: Movies
      summary: Add to favorites
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Added to favorites
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: removeMovieFromFavorites
      x-ogen-operation-group: Movies
      summary: Remove from favorites
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Removed from favorites
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/{movieId}/watchlist:
    put:
      operationId: addMovieToWatchlist
      x-ogen-operation-group: Movies
      summary: Add to watchlist
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Added to watchlist
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: removeMovieFromWatchlist
      x-ogen-operation-group: Movies
      summary: Remove from watchlist
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Removed from watchlist
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/{movieId}/watched:
    put:
      operationId: markMovieWatched
      x-ogen-operation-group: Movies
      summary: Mark as watched
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Marked as watched
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: markMovieUnwatched
      x-ogen-operation-group: Movies
      summary: Mark as unwatched
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Marked as unwatched
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /movies/{movieId}/rating:
    put:
      operationId: setMovieRating
      x-ogen-operation-group: Movies
      summary: Set user rating
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserRatingRequest"
      responses:
        "200":
          description: Rating set
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserRating"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteMovieRating
      x-ogen-operation-group: Movies
      summary: Delete user rating
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Rating deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /me/movies/favorites:
    get:
      operationId: listMyFavoriteMovies
      x-ogen-operation-group: Movies
      summary: List my favorite movies
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: Favorite movies
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MovieListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /me/movies/watchlist:
    get:
      operationId: listMyWatchlist
      x-ogen-operation-group: Movies
      summary: List my watchlist
      tags: [Movies]
      security:
        - bearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: Watchlist movies
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MovieListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # Adult endpoints
  /c/movies:
    get:
      operationId: listAdultMovies
      x-ogen-operation-group: Adult
      summary: List adult movies
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: libraryId
          in: query
          schema:
            type: string
            format: uuid
        - name: query
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: List of adult movies
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMovieListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createAdultMovie
      x-ogen-operation-group: Adult
      summary: Create adult movie
      tags: [Adult]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultMovieCreate"
      responses:
        "201":
          description: Adult movie created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMovie"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/movies/{movieId}:
    get:
      operationId: getAdultMovie
      x-ogen-operation-group: Adult
      summary: Get adult movie by ID
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult movie details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMovie"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    patch:
      operationId: updateAdultMovie
      x-ogen-operation-group: Adult
      summary: Update adult movie metadata
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultMovieUpdate"
      responses:
        "200":
          description: Adult movie updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMovie"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteAdultMovie
      x-ogen-operation-group: Adult
      summary: Delete adult movie
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Adult movie deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/movies/{movieId}/performers:
    get:
      operationId: listAdultMoviePerformers
      x-ogen-operation-group: Adult
      summary: List adult movie performers
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult movie performers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AdultPerformer"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/movies/{movieId}/markers:
    get:
      operationId: listAdultMovieMarkers
      x-ogen-operation-group: Adult
      summary: List adult movie scene markers
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult movie scene markers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AdultSceneMarker"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/movies/{movieId}/similar:
    get:
      operationId: listAdultSimilarMovies
      x-ogen-operation-group: Adult
      summary: List similar adult movies
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: movieId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Similar adult movies
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AdultMovie"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult movie not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/scenes:
    get:
      operationId: listAdultScenes
      x-ogen-operation-group: Adult
      summary: List adult scenes
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: libraryId
          in: query
          schema:
            type: string
            format: uuid
        - name: query
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: List of adult scenes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultSceneListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createAdultScene
      x-ogen-operation-group: Adult
      summary: Create adult scene
      tags: [Adult]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultSceneCreate"
      responses:
        "201":
          description: Adult scene created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultScene"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/scenes/{sceneId}:
    get:
      operationId: getAdultScene
      x-ogen-operation-group: Adult
      summary: Get adult scene by ID
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: sceneId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult scene details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultScene"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult scene not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    patch:
      operationId: updateAdultScene
      x-ogen-operation-group: Adult
      summary: Update adult scene metadata
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: sceneId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultSceneUpdate"
      responses:
        "200":
          description: Adult scene updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultScene"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult scene not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteAdultScene
      x-ogen-operation-group: Adult
      summary: Delete adult scene
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: sceneId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Adult scene deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult scene not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/performers:
    get:
      operationId: listAdultPerformers
      x-ogen-operation-group: Adult
      summary: List adult performers
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: query
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: List of adult performers
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultPerformerListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createAdultPerformer
      x-ogen-operation-group: Adult
      summary: Create adult performer
      tags: [Adult]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultPerformerCreate"
      responses:
        "201":
          description: Adult performer created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultPerformer"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/performers/{performerId}:
    get:
      operationId: getAdultPerformer
      x-ogen-operation-group: Adult
      summary: Get adult performer by ID
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: performerId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult performer details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultPerformer"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult performer not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    patch:
      operationId: updateAdultPerformer
      x-ogen-operation-group: Adult
      summary: Update adult performer
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: performerId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultPerformerUpdate"
      responses:
        "200":
          description: Adult performer updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultPerformer"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult performer not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteAdultPerformer
      x-ogen-operation-group: Adult
      summary: Delete adult performer
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: performerId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Adult performer deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult performer not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/performers/{performerId}/movies:
    get:
      operationId: listAdultPerformerMovies
      x-ogen-operation-group: Adult
      summary: List adult movies for performer
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: performerId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult movies for performer
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMovieListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult performer not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/studios:
    get:
      operationId: listAdultStudios
      x-ogen-operation-group: Adult
      summary: List adult studios
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: query
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: List of adult studios
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultStudioListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createAdultStudio
      x-ogen-operation-group: Adult
      summary: Create adult studio
      tags: [Adult]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultStudioCreate"
      responses:
        "201":
          description: Adult studio created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultStudio"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/studios/{studioId}:
    get:
      operationId: getAdultStudio
      x-ogen-operation-group: Adult
      summary: Get adult studio by ID
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: studioId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult studio details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultStudio"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult studio not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    patch:
      operationId: updateAdultStudio
      x-ogen-operation-group: Adult
      summary: Update adult studio
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: studioId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultStudioUpdate"
      responses:
        "200":
          description: Adult studio updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultStudio"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult studio not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteAdultStudio
      x-ogen-operation-group: Adult
      summary: Delete adult studio
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: studioId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Adult studio deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult studio not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/studios/{studioId}/movies:
    get:
      operationId: listAdultStudioMovies
      x-ogen-operation-group: Adult
      summary: List adult movies for studio
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: studioId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult movies for studio
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMovieListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult studio not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/tags:
    get:
      operationId: listAdultTags
      x-ogen-operation-group: Adult
      summary: List adult tags
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: query
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: List of adult tags
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultTagListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/tags/{tagId}:
    get:
      operationId: getAdultTag
      x-ogen-operation-group: Adult
      summary: Get adult tag by ID
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: tagId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult tag details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultTag"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult tag not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/tags/{tagId}/movies:
    get:
      operationId: listAdultTagMovies
      x-ogen-operation-group: Adult
      summary: List adult movies for tag
      tags: [Adult]
      security:
        - bearerAuth: []
      parameters:
        - name: tagId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult movies for tag
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMovieListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Adult tag not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/match:
    post:
      operationId: matchAdultScene
      x-ogen-operation-group: Adult
      summary: Match adult scene by fingerprint
      tags: [Adult]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultMatchRequest"
      responses:
        "200":
          description: Match result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMatchResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/identify:
    post:
      operationId: identifyAdultScene
      x-ogen-operation-group: Adult
      summary: Identify adult scene by file info
      tags: [Adult]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultIdentifyRequest"
      responses:
        "200":
          description: Identify result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultIdentifyResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # Adult metadata endpoints
  /c/metadata/stashdb/search/scenes:
    get:
      operationId: searchAdultStashDBScenes
      x-ogen-operation-group: AdultMetadata
      summary: Search StashDB scenes
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      parameters:
        - name: query
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: StashDB scene search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataSceneList"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/metadata/stashdb/scenes/{stashdbId}:
    get:
      operationId: getAdultStashDBScene
      x-ogen-operation-group: AdultMetadata
      summary: Get StashDB scene by ID
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      parameters:
        - name: stashdbId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: StashDB scene
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataScene"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Scene not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/metadata/stashdb/search/performers:
    get:
      operationId: searchAdultStashDBPerformers
      x-ogen-operation-group: AdultMetadata
      summary: Search StashDB performers
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      parameters:
        - name: query
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: StashDB performer search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataPerformerList"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/metadata/stashdb/performers/{stashdbId}:
    get:
      operationId: getAdultStashDBPerformer
      x-ogen-operation-group: AdultMetadata
      summary: Get StashDB performer by ID
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      parameters:
        - name: stashdbId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: StashDB performer
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataPerformer"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Performer not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/metadata/stashdb/identify:
    post:
      operationId: identifyAdultStashDBScene
      x-ogen-operation-group: AdultMetadata
      summary: Identify scene via StashDB fingerprints
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultMatchRequest"
      responses:
        "200":
          description: StashDB identify result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataScene"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/metadata/theporndb/search/scenes:
    get:
      operationId: searchAdultTPDBScenes
      x-ogen-operation-group: AdultMetadata
      summary: Search ThePornDB scenes
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      parameters:
        - name: query
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ThePornDB scene search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataSceneList"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/metadata/theporndb/scenes/{tpdbId}:
    get:
      operationId: getAdultTPDBScene
      x-ogen-operation-group: AdultMetadata
      summary: Get ThePornDB scene by ID
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      parameters:
        - name: tpdbId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ThePornDB scene
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataScene"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Scene not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/metadata/theporndb/performers/{tpdbId}:
    get:
      operationId: getAdultTPDBPerformer
      x-ogen-operation-group: AdultMetadata
      summary: Get ThePornDB performer by ID
      tags: [AdultMetadata]
      security:
        - bearerAuth: []
      parameters:
        - name: tpdbId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ThePornDB performer
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultMetadataPerformer"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Performer not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # Adult integrations (Stash)
  /c/integrations/stash/sync:
    post:
      operationId: syncAdultStash
      x-ogen-operation-group: AdultIntegrations
      summary: Trigger Stash sync
      tags: [AdultIntegrations]
      security:
        - bearerAuth: []
      responses:
        "202":
          description: Sync started
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultIntegrationStatus"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/integrations/stash/import:
    post:
      operationId: importAdultStash
      x-ogen-operation-group: AdultIntegrations
      summary: Trigger Stash import
      tags: [AdultIntegrations]
      security:
        - bearerAuth: []
      responses:
        "202":
          description: Import started
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultIntegrationStatus"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/integrations/stash/status:
    get:
      operationId: getAdultStashStatus
      x-ogen-operation-group: AdultIntegrations
      summary: Get Stash sync status
      tags: [AdultIntegrations]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Integration status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultIntegrationStatus"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # Adult requests
  /c/requests/search:
    get:
      operationId: searchAdultRequests
      x-ogen-operation-group: AdultRequests
      summary: Search adult request candidates
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: type
          in: query
          required: true
          schema:
            type: string
            enum: [scene, studio, performer]
        - name: query
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Request search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestSearchResults"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/requests:
    get:
      operationId: listAdultRequests
      x-ogen-operation-group: AdultRequests
      summary: List adult requests
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: query
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, approved, declined]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: Adult requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createAdultRequest
      x-ogen-operation-group: AdultRequests
      summary: Create adult request
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultRequestCreate"
      responses:
        "201":
          description: Adult request created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequest"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/requests/{requestId}:
    get:
      operationId: getAdultRequest
      x-ogen-operation-group: AdultRequests
      summary: Get adult request by ID
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: requestId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Adult request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequest"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Request not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/requests/{requestId}/vote:
    post:
      operationId: voteAdultRequest
      x-ogen-operation-group: AdultRequests
      summary: Vote on adult request
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: requestId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultRequestVoteCreate"
      responses:
        "201":
          description: Vote recorded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestVote"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/requests/{requestId}/comments:
    post:
      operationId: commentAdultRequest
      x-ogen-operation-group: AdultRequests
      summary: Comment on adult request
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: requestId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultRequestCommentCreate"
      responses:
        "201":
          description: Comment recorded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestComment"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/admin/requests:
    get:
      operationId: listAdultAdminRequests
      x-ogen-operation-group: AdultRequests
      summary: List adult requests for admin
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, approved, declined]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        "200":
          description: Adult admin requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/admin/requests/{requestId}/approve:
    put:
      operationId: approveAdultRequest
      x-ogen-operation-group: AdultRequests
      summary: Approve adult request
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: requestId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Request approved
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Request not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/admin/requests/{requestId}/decline:
    put:
      operationId: declineAdultRequest
      x-ogen-operation-group: AdultRequests
      summary: Decline adult request
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: requestId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Request declined
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Request not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/admin/users/{userId}/quota:
    put:
      operationId: updateAdultRequestQuota
      x-ogen-operation-group: AdultRequests
      summary: Update adult request quota for user
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultRequestQuotaUpdate"
      responses:
        "204":
          description: Quota updated
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/admin/request-rules:
    get:
      operationId: listAdultRequestRules
      x-ogen-operation-group: AdultRequests
      summary: List adult request rules
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Adult request rules
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestRuleListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      operationId: createAdultRequestRule
      x-ogen-operation-group: AdultRequests
      summary: Create adult request rule
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultRequestRuleCreate"
      responses:
        "201":
          description: Adult request rule created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestRule"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /c/admin/request-rules/{ruleId}:
    put:
      operationId: updateAdultRequestRule
      x-ogen-operation-group: AdultRequests
      summary: Update adult request rule
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: ruleId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdultRequestRuleUpdate"
      responses:
        "200":
          description: Adult request rule updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdultRequestRule"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Rule not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      operationId: deleteAdultRequestRule
      x-ogen-operation-group: AdultRequests
      summary: Delete adult request rule
      tags: [AdultRequests]
      security:
        - bearerAuth: []
      parameters:
        - name: ruleId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Rule deleted
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Rule not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # Collection endpoints
  /collections:
    get:
      operationId: listCollections
      x-ogen-operation-group: Collections
      summary: List movie collections
      tags: [Collections]
      security:
        - bearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: List of collections
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CollectionListResponse"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /collections/{collectionId}:
    get:
      operationId: getCollection
      x-ogen-operation-group: Collections
      summary: Get collection by ID
      tags: [Collections]
      security:
        - bearerAuth: []
      parameters:
        - name: collectionId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Collection details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CollectionFull"
        "401":
          description: Not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Collection not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: token
      description: Session token from login endpoint

  schemas:
    # Error types
    Error:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: string
        message:
          type: string
        details:
          type: object
          additionalProperties: true

    ValidationError:
      type: object
      required:
        - code
        - message
        - errors
      properties:
        code:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            type: object
            required:
              - field
              - message
            properties:
              field:
                type: string
              message:
                type: string

    # Pagination
    PaginationMeta:
      type: object
      required:
        - total
        - limit
        - offset
      properties:
        total:
          type: integer
        limit:
          type: integer
        offset:
          type: integer

    # User types
    User:
      type: object
      required:
        - id
        - username
        - isAdmin
        - isDisabled
        - createdAt
      properties:
        id:
          type: string
          format: uuid
        username:
          type: string
        email:
          type: string
        isAdmin:
          type: boolean
        isDisabled:
          type: boolean
        maxRatingLevel:
          type: integer
        adultEnabled:
          type: boolean
        preferredLanguage:
          type: string
        lastLoginAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    UserCreate:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 50
        email:
          type: string
          format: email
        password:
          type: string
          minLength: 8
        isAdmin:
          type: boolean
          default: false
        maxRatingLevel:
          type: integer
          default: 100
        adultEnabled:
          type: boolean
          default: false
        preferredLanguage:
          type: string

    UserUpdate:
      type: object
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 50
        email:
          type: string
          format: email
        isAdmin:
          type: boolean
        isDisabled:
          type: boolean
        maxRatingLevel:
          type: integer
        adultEnabled:
          type: boolean
        preferredLanguage:
          type: string

    UserListResponse:
      type: object
      required:
        - users
        - pagination
      properties:
        users:
          type: array
          items:
            $ref: "#/components/schemas/User"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    # Session types
    Session:
      type: object
      required:
        - id
        - userId
        - isActive
        - lastActivity
        - createdAt
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        profileId:
          type: string
          format: uuid
        deviceName:
          type: string
        deviceType:
          type: string
        clientName:
          type: string
        clientVersion:
          type: string
        ipAddress:
          type: string
        isActive:
          type: boolean
        lastActivity:
          type: string
          format: date-time
        expiresAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time

    # Auth types
    LoginRequest:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
        password:
          type: string
        deviceName:
          type: string
        deviceType:
          type: string
        clientName:
          type: string
        clientVersion:
          type: string

    LoginResponse:
      type: object
      required:
        - token
        - user
        - session
      properties:
        token:
          type: string
        user:
          $ref: "#/components/schemas/User"
        session:
          $ref: "#/components/schemas/Session"

    RegisterRequest:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 50
        email:
          type: string
          format: email
        password:
          type: string
          minLength: 8
        preferredLanguage:
          type: string

    CurrentUser:
      type: object
      required:
        - user
        - session
      properties:
        user:
          $ref: "#/components/schemas/User"
        session:
          $ref: "#/components/schemas/Session"

    ChangePasswordRequest:
      type: object
      required:
        - currentPassword
        - newPassword
      properties:
        currentPassword:
          type: string
        newPassword:
          type: string
          minLength: 8

    # Library types
    LibraryType:
      type: string
      enum:
        - movie
        - tvshow
        - music
        - audiobook
        - book
        - podcast
        - photo
        - livetv
        - comics
        - adult_movie
        - adult_scene

    Library:
      type: object
      required:
        - id
        - name
        - type
        - paths
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        type:
          $ref: "#/components/schemas/LibraryType"
        paths:
          type: array
          items:
            type: string
        scanEnabled:
          type: boolean
        scanIntervalHours:
          type: integer
        lastScanAt:
          type: string
          format: date-time
        preferredLanguage:
          type: string
        downloadImages:
          type: boolean
        downloadNfo:
          type: boolean
        generateChapters:
          type: boolean
        isPrivate:
          type: boolean
        ownerUserId:
          type: string
          format: uuid
        sortOrder:
          type: integer
        icon:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    LibraryCreate:
      type: object
      required:
        - name
        - type
        - paths
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        type:
          $ref: "#/components/schemas/LibraryType"
        paths:
          type: array
          items:
            type: string
          minItems: 1
        scanEnabled:
          type: boolean
          default: true
        scanIntervalHours:
          type: integer
          default: 24
        preferredLanguage:
          type: string
        downloadImages:
          type: boolean
          default: true
        downloadNfo:
          type: boolean
          default: false
        generateChapters:
          type: boolean
          default: false
        isPrivate:
          type: boolean
          default: false
        sortOrder:
          type: integer
          default: 0
        icon:
          type: string

    LibraryUpdate:
      type: object
      properties:
        name:
          type: string
        paths:
          type: array
          items:
            type: string
        scanEnabled:
          type: boolean
        scanIntervalHours:
          type: integer
        preferredLanguage:
          type: string
        downloadImages:
          type: boolean
        downloadNfo:
          type: boolean
        generateChapters:
          type: boolean
        isPrivate:
          type: boolean
        sortOrder:
          type: integer
        icon:
          type: string

    ScanRequest:
      type: object
      properties:
        fullScan:
          type: boolean
          default: false

    ScanResponse:
      type: object
      required:
        - jobId
        - status
      properties:
        jobId:
          type: string
          format: uuid
        status:
          type: string
          enum: [queued, running]
        message:
          type: string

    # System types
    ServerInfo:
      type: object
      required:
        - version
        - setupRequired
      properties:
        version:
          type: string
        buildTime:
          type: string
        gitCommit:
          type: string
        setupRequired:
          type: boolean

    HealthStatus:
      type: object
      required:
        - status
        - version
      properties:
        status:
          type: string
          enum: [healthy, degraded, unhealthy]
        version:
          type: string
        checks:
          type: object
          additionalProperties:
            type: string

    # Movie types
    Movie:
      type: object
      required:
        - id
        - title
        - libraryId
      properties:
        id:
          type: string
          format: uuid
        libraryId:
          type: string
          format: uuid
        collectionId:
          type: string
          format: uuid
        title:
          type: string
        originalTitle:
          type: string
        sortTitle:
          type: string
        overview:
          type: string
        tagline:
          type: string
        year:
          type: integer
        releaseDate:
          type: string
          format: date
        runtimeTicks:
          type: integer
          format: int64
        communityRating:
          type: number
        voteCount:
          type: integer
        contentRating:
          type: string
        status:
          type: string
        posterPath:
          type: string
        backdropPath:
          type: string
        tmdbId:
          type: integer
        imdbId:
          type: string
        isAdult:
          type: boolean
        dateAdded:
          type: string
          format: date-time
        userData:
          $ref: "#/components/schemas/MovieUserData"

    MovieFull:
      allOf:
        - $ref: "#/components/schemas/Movie"
        - type: object
          properties:
            budget:
              type: integer
              format: int64
            revenue:
              type: integer
              format: int64
            homepage:
              type: string
            genres:
              type: array
              items:
                $ref: "#/components/schemas/Genre"
            studios:
              type: array
              items:
                $ref: "#/components/schemas/Studio"
            cast:
              type: array
              items:
                $ref: "#/components/schemas/CastMember"
            directors:
              type: array
              items:
                $ref: "#/components/schemas/CrewMember"
            writers:
              type: array
              items:
                $ref: "#/components/schemas/CrewMember"
            collection:
              $ref: "#/components/schemas/Collection"

    MovieWithProgress:
      allOf:
        - $ref: "#/components/schemas/Movie"
        - type: object
          properties:
            progress:
              $ref: "#/components/schemas/WatchProgress"

    MovieUserData:
      type: object
      properties:
        isFavorite:
          type: boolean
        isInWatchlist:
          type: boolean
        isWatched:
          type: boolean
        userRating:
          type: number
        playbackPosition:
          type: integer
          format: int64
        playedPercentage:
          type: number
        lastPlayedAt:
          type: string
          format: date-time

    MovieUpdate:
      type: object
      properties:
        title:
          type: string
        originalTitle:
          type: string
        sortTitle:
          type: string
        overview:
          type: string
        tagline:
          type: string
        contentRating:
          type: string
        isLocked:
          type: boolean

    MovieListResponse:
      type: object
      required:
        - movies
        - pagination
      properties:
        movies:
          type: array
          items:
            $ref: "#/components/schemas/Movie"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    # Adult types
    AdultMovie:
      type: object
      required:
        - id
        - libraryId
        - title
        - path
      properties:
        id:
          type: string
          format: uuid
        libraryId:
          type: string
          format: uuid
        title:
          type: string
        sortTitle:
          type: string
        originalTitle:
          type: string
        overview:
          type: string
        releaseDate:
          type: string
          format: date
        runtimeTicks:
          type: integer
          format: int64
        studioId:
          type: string
          format: uuid
        director:
          type: string
        series:
          type: string
        path:
          type: string
        sizeBytes:
          type: integer
          format: int64
        container:
          type: string
        videoCodec:
          type: string
        audioCodec:
          type: string
        resolution:
          type: string
        phash:
          type: string
        oshash:
          type: string
        whisparrId:
          type: integer
        stashdbId:
          type: string
        tpdbId:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    AdultScene:
      type: object
      required:
        - id
        - libraryId
        - title
        - path
      properties:
        id:
          type: string
          format: uuid
        libraryId:
          type: string
          format: uuid
        title:
          type: string
        sortTitle:
          type: string
        overview:
          type: string
        releaseDate:
          type: string
          format: date
        runtimeMinutes:
          type: integer
        studioId:
          type: string
          format: uuid
        whisparrId:
          type: integer
        stashId:
          type: string
        stashdbId:
          type: string
        tpdbId:
          type: string
        path:
          type: string
        sizeBytes:
          type: integer
          format: int64
        videoCodec:
          type: string
        audioCodec:
          type: string
        resolution:
          type: string
        oshash:
          type: string
        phash:
          type: string
        md5:
          type: string
        coverPath:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    AdultPerformer:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        disambiguation:
          type: string
        gender:
          type: string
        birthdate:
          type: string
          format: date
        deathDate:
          type: string
          format: date
        birthCity:
          type: string
        ethnicity:
          type: string
        nationality:
          type: string
        hairColor:
          type: string
        eyeColor:
          type: string
        heightCm:
          type: integer
        weightKg:
          type: integer
        measurements:
          type: string
        cupSize:
          type: string
        breastType:
          type: string
        tattoos:
          type: string
        piercings:
          type: string
        careerStart:
          type: integer
        careerEnd:
          type: integer
        bio:
          type: string
        stashId:
          type: string
        stashdbId:
          type: string
        tpdbId:
          type: string
        freeonesId:
          type: string
        twitter:
          type: string
        instagram:
          type: string
        imagePath:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    AdultStudio:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        parentId:
          type: string
          format: uuid
        url:
          type: string
        stashdbId:
          type: string
        tpdbId:
          type: string
        logoPath:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    AdultTag:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        parentId:
          type: string
          format: uuid
        stashdbId:
          type: string
        createdAt:
          type: string
          format: date-time

    AdultSceneMarker:
      type: object
      required:
        - id
        - sceneId
        - startSeconds
      properties:
        id:
          type: string
          format: uuid
        sceneId:
          type: string
          format: uuid
        title:
          type: string
        startSeconds:
          type: number
        endSeconds:
          type: number
        tagId:
          type: string
          format: uuid
        stashMarkerId:
          type: string
        createdAt:
          type: string
          format: date-time

    AdultMovieListResponse:
      type: object
      required:
        - movies
        - pagination
      properties:
        movies:
          type: array
          items:
            $ref: "#/components/schemas/AdultMovie"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    AdultSceneListResponse:
      type: object
      required:
        - scenes
        - pagination
      properties:
        scenes:
          type: array
          items:
            $ref: "#/components/schemas/AdultScene"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    AdultPerformerListResponse:
      type: object
      required:
        - performers
        - pagination
      properties:
        performers:
          type: array
          items:
            $ref: "#/components/schemas/AdultPerformer"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    AdultStudioListResponse:
      type: object
      required:
        - studios
        - pagination
      properties:
        studios:
          type: array
          items:
            $ref: "#/components/schemas/AdultStudio"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    AdultTagListResponse:
      type: object
      required:
        - tags
        - pagination
      properties:
        tags:
          type: array
          items:
            $ref: "#/components/schemas/AdultTag"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    AdultMovieCreate:
      type: object
      required:
        - libraryId
        - title
        - path
      properties:
        libraryId:
          type: string
          format: uuid
        title:
          type: string
        path:
          type: string
        releaseDate:
          type: string
          format: date
        studioId:
          type: string
          format: uuid

    AdultMovieUpdate:
      type: object
      properties:
        title:
          type: string
        sortTitle:
          type: string
        originalTitle:
          type: string
        overview:
          type: string
        releaseDate:
          type: string
          format: date
        studioId:
          type: string
          format: uuid

    AdultSceneCreate:
      type: object
      required:
        - libraryId
        - title
        - path
      properties:
        libraryId:
          type: string
          format: uuid
        title:
          type: string
        path:
          type: string
        releaseDate:
          type: string
          format: date
        studioId:
          type: string
          format: uuid

    AdultSceneUpdate:
      type: object
      properties:
        title:
          type: string
        sortTitle:
          type: string
        overview:
          type: string
        releaseDate:
          type: string
          format: date
        studioId:
          type: string
          format: uuid

    AdultPerformerCreate:
      type: object
      required:
        - name
      properties:
        name:
          type: string
        disambiguation:
          type: string
        gender:
          type: string

    AdultPerformerUpdate:
      type: object
      properties:
        name:
          type: string
        disambiguation:
          type: string
        gender:
          type: string

    AdultStudioCreate:
      type: object
      required:
        - name
      properties:
        name:
          type: string
        parentId:
          type: string
          format: uuid
        url:
          type: string

    AdultStudioUpdate:
      type: object
      properties:
        name:
          type: string
        parentId:
          type: string
          format: uuid
        url:
          type: string

    AdultMatchRequest:
      type: object
      required:
        - algorithm
        - hash
      properties:
        algorithm:
          type: string
          enum: [phash, oshash, md5]
        hash:
          type: string
        durationSeconds:
          type: integer

    AdultMatchResponse:
      type: object
      properties:
        matched:
          type: boolean
        scene:
          $ref: "#/components/schemas/AdultScene"
        confidence:
          type: number

    AdultIdentifyRequest:
      type: object
      required:
        - path
      properties:
        path:
          type: string
        sizeBytes:
          type: integer
          format: int64
        durationSeconds:
          type: integer
        oshash:
          type: string
        phash:
          type: string
        md5:
          type: string

    AdultIdentifyResponse:
      type: object
      properties:
        candidates:
          type: array
          items:
            $ref: "#/components/schemas/AdultScene"

    AdultMetadataScene:
      type: object
      required:
        - id
        - title
        - source
      properties:
        id:
          type: string
        title:
          type: string
        releaseDate:
          type: string
          format: date
        studioName:
          type: string
        performers:
          type: array
          items:
            type: string
        source:
          type: string
          enum: [stashdb, theporndb]

    AdultMetadataSceneList:
      type: object
      required:
        - scenes
      properties:
        scenes:
          type: array
          items:
            $ref: "#/components/schemas/AdultMetadataScene"

    AdultMetadataPerformer:
      type: object
      required:
        - id
        - name
        - source
      properties:
        id:
          type: string
        name:
          type: string
        disambiguation:
          type: string
        source:
          type: string
          enum: [stashdb, theporndb]

    AdultMetadataPerformerList:
      type: object
      required:
        - performers
      properties:
        performers:
          type: array
          items:
            $ref: "#/components/schemas/AdultMetadataPerformer"

    AdultIntegrationStatus:
      type: object
      required:
        - status
      properties:
        status:
          type: string
          enum: [idle, running, failed]
        lastSyncAt:
          type: string
          format: date-time
        message:
          type: string

    AdultRequestSearchResults:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/AdultRequestSearchItem"

    AdultRequestSearchItem:
      type: object
      required:
        - type
        - title
      properties:
        type:
          type: string
          enum: [scene, studio, performer, tag_combination]
        externalId:
          type: string
        title:
          type: string
        source:
          type: string
          enum: [stashdb, theporndb]
        metadata:
          type: object
          additionalProperties: true

    AdultRequestListResponse:
      type: object
      required:
        - requests
        - pagination
      properties:
        requests:
          type: array
          items:
            $ref: "#/components/schemas/AdultRequest"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    AdultRequest:
      type: object
      required:
        - id
        - userId
        - contentType
        - title
        - status
        - createdAt
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        contentType:
          type: string
          enum: [adult_movie, adult_scene]
        requestSubtype:
          type: string
          enum: [scene, studio, performer, tag_combination]
        externalId:
          type: string
        title:
          type: string
        releaseYear:
          type: integer
        metadata:
          type: object
          additionalProperties: true
        status:
          type: string
          enum: [pending, approved, processing, available, declined, on_hold]
        autoApproved:
          type: boolean
        autoRuleId:
          type: string
          format: uuid
        approvedByUserId:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time
        declinedReason:
          type: string
        priority:
          type: integer
        votesCount:
          type: integer
        integrationId:
          type: string
        integrationStatus:
          type: string
        estimatedSizeGb:
          type: number
        actualSizeGb:
          type: number
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        availableAt:
          type: string
          format: date-time
        triggeredByAutomation:
          type: boolean
        parentRequestId:
          type: string
          format: uuid

    AdultRequestCreate:
      type: object
      required:
        - contentType
        - title
      properties:
        contentType:
          type: string
          enum: [adult_movie, adult_scene]
        requestSubtype:
          type: string
          enum: [scene, studio, performer, tag_combination]
        externalId:
          type: string
        title:
          type: string
        releaseYear:
          type: integer
        metadata:
          type: object
          additionalProperties: true

    AdultRequestVoteCreate:
      type: object
      properties:
        value:
          type: integer
          minimum: 1
          maximum: 1

    AdultRequestVote:
      type: object
      required:
        - requestId
        - userId
        - votedAt
      properties:
        requestId:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        votedAt:
          type: string
          format: date-time

    AdultRequestCommentCreate:
      type: object
      required:
        - comment
      properties:
        comment:
          type: string
        isAdmin:
          type: boolean

    AdultRequestComment:
      type: object
      required:
        - id
        - requestId
        - comment
        - isAdmin
        - createdAt
      properties:
        id:
          type: string
          format: uuid
        requestId:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        comment:
          type: string
        isAdmin:
          type: boolean
        createdAt:
          type: string
          format: date-time

    AdultRequestRuleListResponse:
      type: object
      required:
        - rules
      properties:
        rules:
          type: array
          items:
            $ref: "#/components/schemas/AdultRequestRule"

    AdultRequestRule:
      type: object
      required:
        - id
        - name
        - action
        - enabled
        - priority
        - createdAt
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        contentType:
          type: string
          enum: [adult_movie, adult_scene]
        conditionType:
          type: string
        conditionValue:
          type: object
          additionalProperties: true
        action:
          type: string
          enum: [auto_approve, require_approval, decline]
        enabled:
          type: boolean
        priority:
          type: integer
        automationTrigger:
          type: string
        createdAt:
          type: string
          format: date-time

    AdultRequestRuleCreate:
      type: object
      required:
        - name
        - action
      properties:
        name:
          type: string
        contentType:
          type: string
          enum: [adult_movie, adult_scene]
        conditionType:
          type: string
        conditionValue:
          type: object
          additionalProperties: true
        action:
          type: string
          enum: [auto_approve, require_approval, decline]
        enabled:
          type: boolean
        priority:
          type: integer
        automationTrigger:
          type: string

    AdultRequestRuleUpdate:
      type: object
      properties:
        name:
          type: string
        contentType:
          type: string
          enum: [adult_movie, adult_scene]
        conditionType:
          type: string
        conditionValue:
          type: object
          additionalProperties: true
        action:
          type: string
          enum: [auto_approve, require_approval, decline]
        enabled:
          type: boolean
        priority:
          type: integer
        automationTrigger:
          type: string

    AdultRequestQuotaUpdate:
      type: object
      properties:
        dailyLimit:
          type: integer
        weeklyLimit:
          type: integer
        monthlyLimit:
          type: integer
        storageQuotaAdultGb:
          type: number

    WatchProgress:
      type: object
      required:
        - positionTicks
        - durationTicks
      properties:
        positionTicks:
          type: integer
          format: int64
        durationTicks:
          type: integer
          format: int64
        playedPercentage:
          type: number
        lastPlayedAt:
          type: string
          format: date-time

    UserRating:
      type: object
      required:
        - rating
      properties:
        rating:
          type: number
          minimum: 0
          maximum: 10
        review:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    UserRatingRequest:
      type: object
      required:
        - rating
      properties:
        rating:
          type: number
          minimum: 0
          maximum: 10
        review:
          type: string
          maxLength: 10000

    Genre:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        tmdbId:
          type: integer

    Collection:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        overview:
          type: string
        posterPath:
          type: string
        backdropPath:
          type: string
        tmdbId:
          type: integer
        movieCount:
          type: integer

    CollectionFull:
      allOf:
        - $ref: "#/components/schemas/Collection"
        - type: object
          properties:
            movies:
              type: array
              items:
                $ref: "#/components/schemas/Movie"

    CollectionListResponse:
      type: object
      required:
        - collections
        - pagination
      properties:
        collections:
          type: array
          items:
            $ref: "#/components/schemas/Collection"
        pagination:
          $ref: "#/components/schemas/PaginationMeta"

    Studio:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        logoPath:
          type: string
        originCountry:
          type: string
        tmdbId:
          type: integer
        movieCount:
          type: integer

    CastMember:
      type: object
      required:
        - personId
        - name
        - character
      properties:
        personId:
          type: string
          format: uuid
        name:
          type: string
        character:
          type: string
        order:
          type: integer
        profilePath:
          type: string
        tmdbId:
          type: integer

    CrewMember:
      type: object
      required:
        - personId
        - name
        - job
      properties:
        personId:
          type: string
          format: uuid
        name:
          type: string
        department:
          type: string
        job:
          type: string
        profilePath:
          type: string
        tmdbId:
          type: integer

    JobResponse:
      type: object
      required:
        - jobId
        - status
      properties:
        jobId:
          type: string
        status:
          type: string
          enum: [queued, running]
        message:
          type: string

security:
  - bearerAuth: []
