// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package adultdb

import (
	"encoding/json"
	"net/netip"
	"time"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

// Server-wide configuration settings with validation
type SharedServerSetting struct {
	Key string `json:"key"`
	// Setting value stored as JSONB for type flexibility
	Value       json.RawMessage `json:"value"`
	Description *string         `json:"description"`
	Category    *string         `json:"category"`
	// Expected data type for validation
	DataType string `json:"dataType"`
	// Indicates sensitive values that should be encrypted
	IsSecret *bool `json:"isSecret"`
	// Settings exposed via public API (e.g., server name)
	IsPublic      *bool          `json:"isPublic"`
	AllowedValues []byte         `json:"allowedValues"`
	MinValue      pgtype.Numeric `json:"minValue"`
	MaxValue      pgtype.Numeric `json:"maxValue"`
	Pattern       *string        `json:"pattern"`
	CreatedAt     time.Time      `json:"createdAt"`
	UpdatedAt     time.Time      `json:"updatedAt"`
	UpdatedBy     pgtype.UUID    `json:"updatedBy"`
}

// User sessions and refresh tokens
type SharedSession struct {
	// Unique session identifier
	ID uuid.UUID `json:"id"`
	// User who owns this session
	UserID uuid.UUID `json:"userId"`
	// Refresh token (secure random string)
	RefreshToken string `json:"refreshToken"`
	// Optional hash of current access token
	AccessTokenHash *string `json:"accessTokenHash"`
	// IP address of the session
	IpAddress netip.Addr `json:"ipAddress"`
	// User agent string
	UserAgent *string `json:"userAgent"`
	// Friendly device name (e.g., "iPhone 12")
	DeviceName *string `json:"deviceName"`
	// When the refresh token expires
	ExpiresAt time.Time `json:"expiresAt"`
	// Whether the session is active
	IsActive bool `json:"isActive"`
	// When the session was revoked (if applicable)
	RevokedAt pgtype.Timestamptz `json:"revokedAt"`
	CreatedAt time.Time          `json:"createdAt"`
	// When the session was last used
	LastUsedAt time.Time `json:"lastUsedAt"`
}

// User accounts for authentication and authorization
type SharedUser struct {
	// Unique user identifier (UUID v4)
	ID uuid.UUID `json:"id"`
	// User email address (unique, used for login)
	Email string `json:"email"`
	// Hashed password (bcrypt or argon2)
	PasswordHash string `json:"passwordHash"`
	// Unique username (alphanumeric, used for @mentions)
	Username string `json:"username"`
	// Display name shown in UI
	DisplayName *string `json:"displayName"`
	AvatarUrl   *string `json:"avatarUrl"`
	// Whether the user account is active (can log in)
	IsActive bool `json:"isActive"`
	// Whether the user has admin privileges
	IsAdmin bool `json:"isAdmin"`
	// Whether the email address has been verified
	EmailVerified bool               `json:"emailVerified"`
	CreatedAt     time.Time          `json:"createdAt"`
	UpdatedAt     time.Time          `json:"updatedAt"`
	LastLoginAt   pgtype.Timestamptz `json:"lastLoginAt"`
	// Soft delete timestamp (NULL = not deleted)
	DeletedAt pgtype.Timestamptz `json:"deletedAt"`
}
